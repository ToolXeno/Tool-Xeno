<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Text Sorter - Tool Xeno</title>
    <meta name="description" content="Professional text sorter with advanced features - sort alphabetically, numerically, by length, reverse order, remove duplicates, and more.">

    <!-- âœ… Tool Xeno Favicons -->
<link rel="icon" type="image/svg+xml" href="toolxeno-logo.svg">
<link rel="alternate icon" type="image/png" href="toolxeno-logo.png">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="toolxeno-logo.png">
<meta name="theme-color" content="#667eea">

    <!-- External Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            
            --dark-bg: #0a0a0a;
            --dark-surface: #1a1a1a;
            --dark-surface-elevated: #252525;
            --dark-text: #ffffff;
            --dark-text-secondary: #a0a0a0;
            --dark-border: #333333;
            
            --light-bg: #f8fafc;
            --light-surface: #ffffff;
            --light-surface-elevated: #f1f5f9;
            --light-text: #1e293b;
            --light-text-secondary: #64748b;
            --light-border: #e2e8f0;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            transition: background-color 0.35s cubic-bezier(0.4, 0, 0.2, 1), color 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.6;
            background-color: var(--dark-bg);
            color: var(--dark-text);
            min-height: 100vh;
        }
        
        body.light-theme { 
            background-color: var(--light-bg); 
            color: var(--light-text); 
        }

        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float 20s infinite linear;
            opacity: 0.05;
            background: radial-gradient(circle, #667eea 0%, transparent 70%);
        }
        
        body.light-theme .particle { 
            background: radial-gradient(circle, #4facfe 0%, transparent 70%); 
        }
        
        @keyframes float { 
            0% { transform: translateY(100vh) rotate(0deg); } 
            100% { transform: translateY(-100px) rotate(360deg); } 
        }
        
        .header-glass {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: background-color 0.35s ease, border-color 0.35s ease;
        }
        
        body.light-theme .header-glass { 
            background: rgba(255, 255, 255, 0.9); 
            border-bottom-color: rgba(0, 0, 0, 0.1); 
        }
        
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--dark-surface);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .theme-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 22px;
            height: 22px;
            background: var(--primary-gradient);
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        body.light-theme .theme-toggle { 
            background: var(--light-surface-elevated); 
            border-color: var(--light-border); 
        }
        
        body.light-theme .theme-toggle::after { 
            transform: translateX(28px); 
            background: var(--secondary-gradient); 
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.35s ease, border-color 0.35s ease;
            position: relative;
            overflow: hidden;
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }
        
        body.light-theme .glass-card { 
            background-color: rgba(255, 255, 255, 0.9); 
            border-color: rgba(0, 0, 0, 0.1); 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); 
        }
        
        .btn-gradient {
            background: var(--primary-gradient);
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-gradient:hover::before { left: 100%; }
        .btn-gradient:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); 
        }
        .btn-gradient:active { transform: translateY(0); }
        
        .btn-secondary {
            background: var(--accent-gradient);
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
        }
        
        .btn-success {
            background: var(--success-gradient);
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
        }
        
        .btn-success:hover {
            box-shadow: 0 8px 25px rgba(17, 153, 142, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
        }
        
        .btn-danger:hover {
            box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
        }
        
        .nav-link {
            padding: 8px 16px;
            border-radius: 8px;
            transition: background-color 0.3s ease, color 0.3s ease;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
        }
        
        .nav-link:hover { 
            background: rgba(255, 255, 255, 0.1); 
            color: white; 
        }
        
        body.light-theme .nav-link { 
            color: rgba(0, 0, 0, 0.7); 
        }
        
        body.light-theme .nav-link:hover { 
            background: rgba(0, 0, 0, 0.1); 
            color: black; 
        }
        
        .textarea-custom {
            width: 100%;
            min-height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            color: var(--dark-text);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            resize: vertical;
            transition: all 0.3s ease;
        }
        
        .textarea-custom:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        body.light-theme .textarea-custom {
            background: rgba(0, 0, 0, 0.02);
            border-color: rgba(0, 0, 0, 0.1);
            color: var(--light-text);
        }
        
        body.light-theme .textarea-custom:focus {
            border-color: #667eea;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
        }
        
        body.light-theme .stat-card {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.85rem;
            opacity: 0.7;
        }
        
        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .toggle-switch.active {
            background: var(--primary-gradient);
            border-color: transparent;
        }
        
        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 19px;
            height: 19px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .toggle-switch.active::after {
            transform: translateX(25px);
        }
        
        body.light-theme .toggle-switch {
            background: rgba(0, 0, 0, 0.1);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        .option-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .option-item:last-child {
            border-bottom: none;
        }
        
        body.light-theme .option-item {
            border-bottom-color: rgba(0, 0, 0, 0.05);
        }
        
        .sort-mode-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        
        .sort-mode-option {
            padding: 15px 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .sort-mode-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: -1;
        }
        
        .sort-mode-option.active {
            border-color: #667eea;
            color: white;
        }
        
        .sort-mode-option.active::before {
            left: 0;
            opacity: 1;
        }
        
        .sort-mode-option:hover:not(.active) {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        body.light-theme .sort-mode-option {
            border-color: rgba(0, 0, 0, 0.15);
        }
        
        body.light-theme .sort-mode-option:hover:not(.active) {
            border-color: #667eea;
        }
        
        .sort-mode-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
            display: block;
        }
        
        .sort-mode-label {
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .action-buttons button {
            flex: 1;
            min-width: 140px;
        }
        
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-gradient);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            pointer-events: none;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        .toast.success {
            background: var(--success-gradient);
        }
        
        .toast.error {
            background: var(--secondary-gradient);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sort-mode-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .action-buttons button {
                width: 100%;
            }
            
            .toast {
                bottom: 20px;
                right: 20px;
                left: 20px;
            }
        }

        @media (max-width: 480px) {
            .logo-container {
                gap: 8px;
            }
            
            .logo-icon {
                width: 35px;
                height: 35px;
                font-size: 1.1rem;
            }
            
            .text-3xl {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <!-- Floating Particles -->
    <div class="particles-container" id="particles"></div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Success!</span>
    </div>
    
    <!-- Header -->
    <header class="header-glass fixed w-full top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="logo-container">
                    <div class="logo-icon">
                        <i class="fas fa-sort-alpha-down"></i>
                    </div>
                    <div>
                        <div class="text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                            Tool Xeno
                        </div>
                        <div class="hidden md:block text-sm opacity-70">
                            Professional Text Sorter
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <nav class="hidden md:flex space-x-2">
                        <a href="#sort" class="nav-link">Sort</a>
                        <a href="#options" class="nav-link">Options</a>
                        <a href="#stats" class="nav-link">Stats</a>
                    </nav>
                    <div class="theme-toggle" id="themeToggle" onclick="toggleTheme()"></div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="pt-20 pb-10">
        <!-- Hero Section -->
        <section class="container mx-auto px-6 py-16 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent">
                Professional Text Sorter
            </h1>
            <p class="text-lg md:text-xl mb-8 opacity-80 max-w-3xl mx-auto">
                Advanced text sorting tool with alphabetical, numerical, length-based sorting, 
                duplicate removal, case handling, and custom separator support.
            </p>
        </section>
        
        <!-- Main Sorter Interface -->
        <section id="sort" class="container mx-auto px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Input Panel -->
                <div class="glass-card p-6 fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-semibold flex items-center">
                            <i class="fas fa-edit mr-3"></i>
                            Input Text
                        </h3>
                        <div class="flex gap-2">
                            <button onclick="pasteFromClipboard()" class="btn-gradient px-4 py-2 text-sm" title="Paste from clipboard">
                                <i class="fas fa-clipboard"></i>
                            </button>
                            <button onclick="clearInput()" class="btn-danger px-4 py-2 text-sm" title="Clear input">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <textarea 
                        id="inputText" 
                        class="textarea-custom" 
                        placeholder="Enter or paste your text here...&#10;Each line will be treated as a separate item.&#10;&#10;Example:&#10;Banana&#10;Apple&#10;Cherry&#10;10&#10;25&#10;3"
                        oninput="updateStats()"></textarea>
                    <div class="mt-3 text-sm opacity-70">
                        <i class="fas fa-info-circle mr-2"></i>
                        Enter each item on a new line
                    </div>
                </div>
                
                <!-- Output Panel -->
                <div class="glass-card p-6 fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-semibold flex items-center">
                            <i class="fas fa-check-circle mr-3"></i>
                            Sorted Output
                        </h3>
                        <div class="flex gap-2">
                            <button onclick="copyToClipboard()" class="btn-success px-4 py-2 text-sm" title="Copy to clipboard">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button onclick="downloadAsFile()" class="btn-secondary px-4 py-2 text-sm" title="Download as file">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    <textarea 
                        id="outputText" 
                        class="textarea-custom" 
                        placeholder="Sorted text will appear here..."
                        readonly></textarea>
                    <div class="mt-3 text-sm opacity-70">
                        <i class="fas fa-info-circle mr-2"></i>
                        Results are updated in real-time
                    </div>
                </div>
            </div>
            
            <!-- Statistics -->
            <div id="stats" class="glass-card p-6 mb-8 fade-in">
                <h3 class="text-xl font-semibold mb-4 flex items-center">
                    <i class="fas fa-chart-bar mr-3"></i>
                    Statistics
                </h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalLines">0</div>
                        <div class="stat-label">Total Lines</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="uniqueLines">0</div>
                        <div class="stat-label">Unique Lines</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="duplicateLines">0</div>
                        <div class="stat-label">Duplicates</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalChars">0</div>
                        <div class="stat-label">Total Characters</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="emptyLines">0</div>
                        <div class="stat-label">Empty Lines</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgLength">0</div>
                        <div class="stat-label">Avg Length</div>
                    </div>
                </div>
            </div>
            
            <!-- Sorting Options -->
            <div id="options" class="glass-card p-6 mb-8 fade-in">
                <h3 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-sliders-h mr-3"></i>
                    Sorting Options
                </h3>
                
                <!-- Sort Mode Selection -->
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-3">Sort Mode</label>
                    <div class="sort-mode-selector" id="sortModeSelector">
                        <div class="sort-mode-option active" data-mode="alphabetical" onclick="selectSortMode('alphabetical')">
                            <i class="fas fa-sort-alpha-down sort-mode-icon"></i>
                            <div class="sort-mode-label">Alphabetical</div>
                        </div>
                        <div class="sort-mode-option" data-mode="numerical" onclick="selectSortMode('numerical')">
                            <i class="fas fa-sort-numeric-down sort-mode-icon"></i>
                            <div class="sort-mode-label">Numerical</div>
                        </div>
                        <div class="sort-mode-option" data-mode="length" onclick="selectSortMode('length')">
                            <i class="fas fa-ruler-horizontal sort-mode-icon"></i>
                            <div class="sort-mode-label">By Length</div>
                        </div>
                        <div class="sort-mode-option" data-mode="reverse" onclick="selectSortMode('reverse')">
                            <i class="fas fa-exchange-alt sort-mode-icon"></i>
                            <div class="sort-mode-label">Reverse</div>
                        </div>
                        <div class="sort-mode-option" data-mode="random" onclick="selectSortMode('random')">
                            <i class="fas fa-random sort-mode-icon"></i>
                            <div class="sort-mode-label">Random</div>
                        </div>
                        <div class="sort-mode-option" data-mode="natural" onclick="selectSortMode('natural')">
                            <i class="fas fa-sort-amount-down sort-mode-icon"></i>
                            <div class="sort-mode-label">Natural</div>
                        </div>
                    </div>
                </div>
                
                <!-- Advanced Options -->
                <div class="space-y-4">
                    <div class="option-item">
                        <div>
                            <label class="text-sm font-medium">Ascending Order</label>
                            <p class="text-xs opacity-70">Sort from A to Z or lowest to highest</p>
                        </div>
                        <div class="toggle-switch active" id="ascendingToggle" onclick="toggleOption('ascending')"></div>
                    </div>
                    
                    <div class="option-item">
                        <div>
                            <label class="text-sm font-medium">Case Sensitive</label>
                            <p class="text-xs opacity-70">Treat uppercase and lowercase as different</p>
                        </div>
                        <div class="toggle-switch" id="caseSensitiveToggle" onclick="toggleOption('caseSensitive')"></div>
                    </div>
                    
                    <div class="option-item">
                        <div>
                            <label class="text-sm font-medium">Remove Duplicates</label>
                            <p class="text-xs opacity-70">Keep only unique lines</p>
                        </div>
                        <div class="toggle-switch" id="removeDuplicatesToggle" onclick="toggleOption('removeDuplicates')"></div>
                    </div>
                    
                    <div class="option-item">
                        <div>
                            <label class="text-sm font-medium">Ignore Empty Lines</label>
                            <p class="text-xs opacity-70">Remove blank lines from output</p>
                        </div>
                        <div class="toggle-switch active" id="ignoreEmptyToggle" onclick="toggleOption('ignoreEmpty')"></div>
                    </div>
                    
                    <div class="option-item">
                        <div>
                            <label class="text-sm font-medium">Trim Whitespace</label>
                            <p class="text-xs opacity-70">Remove leading and trailing spaces</p>
                        </div>
                        <div class="toggle-switch active" id="trimToggle" onclick="toggleOption('trim')"></div>
                    </div>
                    
                    <div class="option-item">
                        <div>
                            <label class="text-sm font-medium">Add Line Numbers</label>
                            <p class="text-xs opacity-70">Prefix each line with its number</p>
                        </div>
                        <div class="toggle-switch" id="addNumbersToggle" onclick="toggleOption('addNumbers')"></div>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="action-buttons mt-8">
                    <button onclick="sortText()" class="btn-gradient">
                        <i class="fas fa-sort mr-2"></i>
                        Sort Now
                    </button>
                    <button onclick="undoSort()" class="btn-secondary">
                        <i class="fas fa-undo mr-2"></i>
                        Undo
                    </button>
                    <button onclick="swapInputOutput()" class="btn-success">
                        <i class="fas fa-exchange-alt mr-2"></i>
                        Swap I/O
                    </button>
                    <button onclick="resetAll()" class="btn-danger">
                        <i class="fas fa-sync mr-2"></i>
                        Reset All
                    </button>
                </div>
            </div>
        </section>
    </main>
    
    <script>
        // Global state
        let sortOptions = {
            mode: 'alphabetical',
            ascending: true,
            caseSensitive: false,
            removeDuplicates: false,
            ignoreEmpty: true,
            trim: true,
            addNumbers: false
        };
        
        let historyStack = [];
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeParticles();
            loadSavedTheme();
            updateStats();
            
            // Auto-sort on input change
            document.getElementById('inputText').addEventListener('input', function() {
                debounce(sortText, 500)();
            });
        });
        
        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
        }
        
        // Load saved theme
        function loadSavedTheme() {
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-theme');
            }
        }
        
        // Initialize floating particles
        function initializeParticles() {
            const container = document.getElementById('particles');
            const particleCount = 15;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 10 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                container.appendChild(particle);
            }
        }
        
        // Select sort mode
        function selectSortMode(mode) {
            sortOptions.mode = mode;
            
            // Update UI
            document.querySelectorAll('.sort-mode-option').forEach(option => {
                option.classList.remove('active');
            });
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            
            sortText();
        }
        
        // Toggle option
        function toggleOption(option) {
            const toggle = document.getElementById(option + 'Toggle');
            toggle.classList.toggle('active');
            sortOptions[option] = toggle.classList.contains('active');
            
            sortText();
        }
        
        // Main sort function
        function sortText() {
            const input = document.getElementById('inputText').value;
            
            if (!input.trim()) {
                document.getElementById('outputText').value = '';
                updateStats();
                return;
            }
            
            // Save to history
            const currentOutput = document.getElementById('outputText').value;
            if (currentOutput && historyStack[historyStack.length - 1] !== currentOutput) {
                historyStack.push(currentOutput);
                if (historyStack.length > 10) historyStack.shift();
            }
            
            // Split into lines
            let lines = input.split('\n');
            
            // Apply preprocessing
            if (sortOptions.trim) {
                lines = lines.map(line => line.trim());
            }
            
            if (sortOptions.ignoreEmpty) {
                lines = lines.filter(line => line !== '');
            }
            
            if (sortOptions.removeDuplicates) {
                lines = [...new Set(lines)];
            }
            
            // Apply sorting
            let sortedLines = [...lines];
            
            switch (sortOptions.mode) {
                case 'alphabetical':
                    sortedLines = sortAlphabetically(sortedLines);
                    break;
                case 'numerical':
                    sortedLines = sortNumerically(sortedLines);
                    break;
                case 'length':
                    sortedLines = sortByLength(sortedLines);
                    break;
                case 'reverse':
                    sortedLines = lines.reverse();
                    break;
                case 'random':
                    sortedLines = shuffleArray(sortedLines);
                    break;
                case 'natural':
                    sortedLines = sortNaturally(sortedLines);
                    break;
            }
            
            // Apply ascending/descending
            if (!sortOptions.ascending && sortOptions.mode !== 'reverse' && sortOptions.mode !== 'random') {
                sortedLines = sortedLines.reverse();
            }
            
            // Add line numbers if enabled
            if (sortOptions.addNumbers) {
                sortedLines = sortedLines.map((line, index) => `${index + 1}. ${line}`);
            }
            
            // Update output
            document.getElementById('outputText').value = sortedLines.join('\n');
            updateStats();
        }
        
        // Alphabetical sorting
        function sortAlphabetically(lines) {
            return lines.sort((a, b) => {
                if (!sortOptions.caseSensitive) {
                    return a.toLowerCase().localeCompare(b.toLowerCase());
                }
                return a.localeCompare(b);
            });
        }
        
        // Numerical sorting
        function sortNumerically(lines) {
            return lines.sort((a, b) => {
                const numA = parseFloat(a);
                const numB = parseFloat(b);
                
                // Handle non-numeric values
                if (isNaN(numA) && isNaN(numB)) return 0;
                if (isNaN(numA)) return 1;
                if (isNaN(numB)) return -1;
                
                return numA - numB;
            });
        }
        
        // Length-based sorting
        function sortByLength(lines) {
            return lines.sort((a, b) => a.length - b.length);
        }
        
        // Natural sorting (handles numbers within text)
        function sortNaturally(lines) {
            return lines.sort((a, b) => {
                return a.localeCompare(b, undefined, {
                    numeric: true,
                    sensitivity: sortOptions.caseSensitive ? 'case' : 'base'
                });
            });
        }
        
        // Shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }
        
        // Update statistics
        function updateStats() {
            const input = document.getElementById('inputText').value;
            const lines = input.split('\n');
            
            const totalLines = lines.length;
            const nonEmptyLines = lines.filter(line => line.trim() !== '');
            const uniqueLines = new Set(nonEmptyLines.map(line => 
                sortOptions.caseSensitive ? line.trim() : line.trim().toLowerCase()
            )).size;
            const duplicateLines = nonEmptyLines.length - uniqueLines;
            const emptyLines = totalLines - nonEmptyLines.length;
            const totalChars = input.length;
            const avgLength = nonEmptyLines.length > 0 
                ? Math.round(nonEmptyLines.reduce((sum, line) => sum + line.trim().length, 0) / nonEmptyLines.length) 
                : 0;
            
            document.getElementById('totalLines').textContent = totalLines;
            document.getElementById('uniqueLines').textContent = uniqueLines;
            document.getElementById('duplicateLines').textContent = duplicateLines;
            document.getElementById('totalChars').textContent = totalChars;
            document.getElementById('emptyLines').textContent = emptyLines;
            document.getElementById('avgLength').textContent = avgLength;
        }
        
        // Paste from clipboard
        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('inputText').value = text;
                updateStats();
                sortText();
                showToast('Text pasted from clipboard!', 'success');
            } catch (err) {
                showToast('Failed to paste from clipboard', 'error');
            }
        }
        
        // Copy to clipboard
        async function copyToClipboard() {
            const output = document.getElementById('outputText').value;
            
            if (!output) {
                showToast('Nothing to copy!', 'error');
                return;
            }
            
            try {
                await navigator.clipboard.writeText(output);
                showToast('Copied to clipboard!', 'success');
            } catch (err) {
                showToast('Failed to copy to clipboard', 'error');
            }
        }
        
        // Download as file
        function downloadAsFile() {
            const output = document.getElementById('outputText').value;
            
            if (!output) {
                showToast('Nothing to download!', 'error');
                return;
            }
            
            const blob = new Blob([output], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `sorted-text-${Date.now()}.txt`;
            link.click();
            URL.revokeObjectURL(url);
            
            showToast('File downloaded successfully!', 'success');
        }
        
        // Clear input
        function clearInput() {
            if (confirm('Are you sure you want to clear all input?')) {
                document.getElementById('inputText').value = '';
                document.getElementById('outputText').value = '';
                updateStats();
                showToast('Input cleared!', 'success');
            }
        }
        
        // Undo last sort
        function undoSort() {
            if (historyStack.length === 0) {
                showToast('Nothing to undo!', 'error');
                return;
            }
            
            const lastOutput = historyStack.pop();
            document.getElementById('outputText').value = lastOutput;
            showToast('Undo successful!', 'success');
        }
        
        // Swap input and output
        function swapInputOutput() {
            const input = document.getElementById('inputText').value;
            const output = document.getElementById('outputText').value;
            
            document.getElementById('inputText').value = output;
            document.getElementById('outputText').value = input;
            
            updateStats();
            showToast('Input and output swapped!', 'success');
        }
        
        // Reset all
        function resetAll() {
            if (confirm('Are you sure you want to reset everything?')) {
                document.getElementById('inputText').value = '';
                document.getElementById('outputText').value = '';
                historyStack = [];
                
                // Reset options to default
                sortOptions = {
                    mode: 'alphabetical',
                    ascending: true,
                    caseSensitive: false,
                    removeDuplicates: false,
                    ignoreEmpty: true,
                    trim: true,
                    addNumbers: false
                };
                
                // Update UI
                document.querySelectorAll('.sort-mode-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.querySelector('[data-mode="alphabetical"]').classList.add('active');
                
                document.getElementById('ascendingToggle').classList.add('active');
                document.getElementById('caseSensitiveToggle').classList.remove('active');
                document.getElementById('removeDuplicatesToggle').classList.remove('active');
                document.getElementById('ignoreEmptyToggle').classList.add('active');
                document.getElementById('trimToggle').classList.add('active');
                document.getElementById('addNumbersToggle').classList.remove('active');
                
                updateStats();
                showToast('Everything has been reset!', 'success');
            }
        }
        
        // Show toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.className = `toast ${type}`;
            
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Debounce function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
    </script>
<script src="/homebutton.js"></script>
</body>

</html>
