<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional JSON Formatter & Validator - Tool Xeno</title>
    <meta name="description" content="Professional JSON formatter and validator with advanced features - format, validate, minify JSON with syntax highlighting, error detection, and tree view.">

    <!-- âœ… Tool Xeno Favicons -->
<link rel="icon" type="image/svg+xml" href="toolxeno-logo.svg">
<link rel="alternate icon" type="image/png" href="toolxeno-logo.png">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="toolxeno-logo.png">
<meta name="theme-color" content="#667eea">

    <!-- External Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --error-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            
            --dark-bg: #0a0a0a;
            --dark-surface: #1a1a1a;
            --dark-surface-elevated: #252525;
            --dark-text: #ffffff;
            --dark-text-secondary: #a0a0a0;
            --dark-border: #333333;
            
            --light-bg: #f8fafc;
            --light-surface: #ffffff;
            --light-surface-elevated: #f1f5f9;
            --light-text: #1e293b;
            --light-text-secondary: #64748b;
            --light-border: #e2e8f0;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            transition: background-color 0.35s cubic-bezier(0.4, 0, 0.2, 1), color 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.6;
            background-color: var(--dark-bg);
            color: var(--dark-text);
            min-height: 100vh;
        }
        
        body.light-theme { 
            background-color: var(--light-bg); 
            color: var(--light-text); 
        }

        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float 20s infinite linear;
            opacity: 0.05;
            background: radial-gradient(circle, #667eea 0%, transparent 70%);
        }
        
        body.light-theme .particle { 
            background: radial-gradient(circle, #4facfe 0%, transparent 70%); 
        }
        
        @keyframes float { 
            0% { transform: translateY(100vh) rotate(0deg); } 
            100% { transform: translateY(-100px) rotate(360deg); } 
        }
        
        .header-glass {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: background-color 0.35s ease, border-color 0.35s ease;
        }
        
        body.light-theme .header-glass { 
            background: rgba(255, 255, 255, 0.9); 
            border-bottom-color: rgba(0, 0, 0, 0.1); 
        }
        
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--dark-surface);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .theme-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 22px;
            height: 22px;
            background: var(--primary-gradient);
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        body.light-theme .theme-toggle { 
            background: var(--light-surface-elevated); 
            border-color: var(--light-border); 
        }
        
        body.light-theme .theme-toggle::after { 
            transform: translateX(28px); 
            background: var(--secondary-gradient); 
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.35s ease, border-color 0.35s ease;
            position: relative;
            overflow: hidden;
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }
        
        body.light-theme .glass-card { 
            background-color: rgba(255, 255, 255, 0.9); 
            border-color: rgba(0, 0, 0, 0.1); 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); 
        }
        
        .btn-gradient {
            background: var(--primary-gradient);
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-gradient:hover::before { left: 100%; }
        .btn-gradient:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); 
        }
        .btn-gradient:active { transform: translateY(0); }
        
        .btn-secondary {
            background: var(--accent-gradient);
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
        }
        
        .btn-success {
            background: var(--success-gradient);
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
        }
        
        .btn-success:hover {
            box-shadow: 0 8px 25px rgba(17, 153, 142, 0.4);
        }
        
        .btn-error {
            background: var(--error-gradient);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        .btn-error:hover {
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }
        
        .nav-link {
            padding: 8px 16px;
            border-radius: 8px;
            transition: background-color 0.3s ease, color 0.3s ease;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
        }
        
        .nav-link:hover { 
            background: rgba(255, 255, 255, 0.1); 
            color: white; 
        }
        
        body.light-theme .nav-link { 
            color: rgba(0, 0, 0, 0.7); 
        }
        
        body.light-theme .nav-link:hover { 
            background: rgba(0, 0, 0, 0.1); 
            color: black; 
        }
        
        .code-editor {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow: hidden;
            position: relative;
        }
        
        body.light-theme .code-editor {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.2);
        }
        
        .code-editor-header {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        body.light-theme .code-editor-header {
            background: rgba(0, 0, 0, 0.1);
            border-bottom-color: rgba(0, 0, 0, 0.1);
        }
        
        .code-textarea {
            width: 100%;
            background: transparent;
            border: none;
            padding: 16px;
            color: var(--dark-text);
            resize: vertical;
            min-height: 300px;
            outline: none;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
        }
        
        body.light-theme .code-textarea {
            color: var(--light-text);
        }
        
        .line-numbers {
            position: absolute;
            left: 0;
            top: 45px;
            width: 50px;
            background: rgba(255, 255, 255, 0.05);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 16px 8px;
            color: rgba(255, 255, 255, 0.4);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.5;
            user-select: none;
            pointer-events: none;
        }
        
        body.light-theme .line-numbers {
            background: rgba(0, 0, 0, 0.05);
            border-right-color: rgba(0, 0, 0, 0.1);
            color: rgba(0, 0, 0, 0.4);
        }
        
        .code-textarea-with-numbers {
            padding-left: 66px;
        }
        
        .json-tree {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            padding: 16px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .json-key {
            color: #67d8ef;
            font-weight: 600;
        }
        
        .json-string {
            color: #a6e22e;
        }
        
        .json-number {
            color: #fd971f;
        }
        
        .json-boolean {
            color: #ae81ff;
        }
        
        .json-null {
            color: #f92672;
            font-style: italic;
        }
        
        .json-brace {
            color: #f8f8f2;
            font-weight: bold;
        }
        
        body.light-theme .json-key {
            color: #0066cc;
        }
        
        body.light-theme .json-string {
            color: #008800;
        }
        
        body.light-theme .json-number {
            color: #ff6600;
        }
        
        body.light-theme .json-boolean {
            color: #9900cc;
        }
        
        body.light-theme .json-null {
            color: #cc0000;
        }
        
        body.light-theme .json-brace {
            color: #333333;
        }
        
        .tree-node {
            margin-left: 20px;
            position: relative;
        }
        
        .tree-toggle {
            cursor: pointer;
            user-select: none;
            color: rgba(255, 255, 255, 0.7);
            margin-right: 5px;
        }
        
        body.light-theme .tree-toggle {
            color: rgba(0, 0, 0, 0.7);
        }
        
        .tree-toggle:hover {
            color: var(--primary-gradient);
        }
        
        .error-highlight {
            background: rgba(255, 107, 107, 0.2);
            border-left: 3px solid #ff6b6b;
            margin: 2px 0;
            padding: 4px 8px;
            border-radius: 4px;
        }
        
        .error-message {
            background: var(--error-gradient);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .success-message {
            background: var(--success-gradient);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        body.light-theme .stat-card {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }
        
        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-container {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 20px;
        }
        
        body.light-theme .tab-container {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .tab {
            flex: 1;
            padding: 12px 16px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .tab.active {
            background: var(--primary-gradient);
            color: white;
        }
        
        .tab:not(.active):hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        body.light-theme .tab:not(.active):hover {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active {
            background: var(--primary-gradient);
        }
        
        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 21px;
            height: 21px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .toggle-switch.active::after {
            transform: translateX(25px);
        }
        
        .copy-button {
            background: var(--accent-gradient);
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }
        
        .copy-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .code-textarea {
                min-height: 200px;
            }
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .tooltip:hover::before {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>

<body>
    <!-- Floating Particles -->
    <div class="particles-container" id="particles"></div>
    
    <!-- Header -->
    <header class="header-glass fixed w-full top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                        Tool Xeno
                    </div>
                    <div class="hidden md:block text-sm opacity-70">
                        JSON Formatter & Validator
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <nav class="hidden md:flex space-x-2">
                        <a href="#formatter" class="nav-link">Format</a>
                        <a href="#validator" class="nav-link">Validate</a>
                        <a href="#tree-view" class="nav-link">Tree View</a>
                        <a href="#minify" class="nav-link">Minify</a>
                    </nav>
                    <div class="theme-toggle" id="themeToggle" onclick="toggleTheme()"></div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="pt-20 pb-10">
        <!-- Hero Section -->
        <section class="container mx-auto px-6 py-16 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent">
                JSON Formatter & Validator
            </h1>
            <p class="text-lg md:text-xl mb-8 opacity-80 max-w-3xl mx-auto">
                Professional JSON formatter with advanced validation, syntax highlighting, error detection, 
                tree view, and schema validation. Perfect for developers and data analysts.
            </p>
        </section>
        
        <!-- Main Interface -->
        <section class="container mx-auto px-6">
            <!-- Tab Navigation -->
            <div class="tab-container">
                <div class="tab active" data-tab="formatter">
                    <i class="fas fa-code mr-2"></i>
                    Formatter
                </div>
                <div class="tab" data-tab="validator">
                    <i class="fas fa-check-circle mr-2"></i>
                    Validator
                </div>
                <div class="tab" data-tab="tree">
                    <i class="fas fa-sitemap mr-2"></i>
                    Tree View
                </div>
                <div class="tab" data-tab="schema">
                    <i class="fas fa-file-contract mr-2"></i>
                    Schema
                </div>
            </div>
            
            <!-- Formatter Tab -->
            <div id="formatter-tab" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Input Panel -->
                    <div class="glass-card p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-semibold flex items-center">
                                <i class="fas fa-edit mr-3"></i>
                                JSON Input
                            </h3>
                            <div class="flex gap-2">
                                <button class="copy-button tooltip" data-tooltip="Paste from clipboard" onclick="pasteFromClipboard()">
                                    <i class="fas fa-paste"></i>
                                </button>
                                <button class="copy-button tooltip" data-tooltip="Clear input" onclick="clearInput()">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="code-editor">
                            <div class="code-editor-header">
                                <span>Input JSON</span>
                                <span id="inputStats">0 chars</span>
                            </div>
                            <div class="line-numbers" id="inputLineNumbers">1</div>
                            <textarea 
                                id="jsonInput" 
                                class="code-textarea code-textarea-with-numbers" 
                                placeholder="Paste your JSON here or try the example..."
                                oninput="handleInput()"
                                onscroll="syncLineNumbers('input')"
                            ></textarea>
                        </div>
                        
                        <!-- Quick Actions -->
                        <div class="mt-6 flex flex-wrap gap-3">
                            <button class="btn-gradient" onclick="formatJSON()">
                                <i class="fas fa-indent mr-2"></i>
                                Format
                            </button>
                            <button class="btn-secondary" onclick="minifyJSON()">
                                <i class="fas fa-compress mr-2"></i>
                                Minify
                            </button>
                            <button class="btn-success" onclick="validateJSON()">
                                <i class="fas fa-check mr-2"></i>
                                Validate
                            </button>
                            <button class="btn-gradient" onclick="loadSample()">
                                <i class="fas fa-file-import mr-2"></i>
                                Sample
                            </button>
                        </div>
                        
                        <!-- Settings -->
                        <div class="mt-6 grid grid-cols-2 gap-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Auto-format</span>
                                <div class="toggle-switch active" id="autoFormat" onclick="toggleSetting('autoFormat')"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Sort keys</span>
                                <div class="toggle-switch" id="sortKeys" onclick="toggleSetting('sortKeys')"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Show errors</span>
                                <div class="toggle-switch active" id="showErrors" onclick="toggleSetting('showErrors')"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Line numbers</span>
                                <div class="toggle-switch active" id="lineNumbers" onclick="toggleSetting('lineNumbers')"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Output Panel -->
                    <div class="glass-card p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-semibold flex items-center">
                                <i class="fas fa-code mr-3"></i>
                                Formatted Output
                            </h3>
                            <div class="flex gap-2">
                                <button class="copy-button tooltip" data-tooltip="Copy to clipboard" onclick="copyOutput()">
                                    <i class="fas fa-copy"></i>
                                </button>
                                <button class="copy-button tooltip" data-tooltip="Download as file" onclick="downloadJSON()">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="code-editor">
                            <div class="code-editor-header">
                                <span>Formatted JSON</span>
                                <span id="outputStats">0 chars</span>
                            </div>
                            <div class="line-numbers" id="outputLineNumbers">1</div>
                            <textarea 
                                id="jsonOutput" 
                                class="code-textarea code-textarea-with-numbers" 
                                readonly
                                onscroll="syncLineNumbers('output')"
                            ></textarea>
                        </div>
                        
                        <!-- Status Messages -->
                        <div id="statusMessages" class="mt-4"></div>
                        
                        <!-- Statistics -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="charCount">0</div>
                                <div class="text-sm opacity-70">Characters</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="lineCount">0</div>
                                <div class="text-sm opacity-70">Lines</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="sizeKB">0</div>
                                <div class="text-sm opacity-70">Size (KB)</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="compressionRatio">0%</div>
                                <div class="text-sm opacity-70">Compression</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Validator Tab -->
            <div id="validator-tab" class="tab-content hidden">
                <div class="glass-card p-6">
                    <h3 class="text-xl font-semibold mb-6 flex items-center">
                        <i class="fas fa-shield-alt mr-3"></i>
                        JSON Validation Results
                    </h3>
                    
                    <div id="validationResults" class="space-y-4">
                        <!-- Validation results will be inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- Tree View Tab -->
            <div id="tree-tab" class="tab-content hidden">
                <div class="glass-card p-6">
                    <h3 class="text-xl font-semibold mb-6 flex items-center">
                        <i class="fas fa-sitemap mr-3"></i>
                        JSON Tree Structure
                    </h3>
                    
                    <div id="jsonTreeView" class="json-tree">
                        <!-- Tree view will be inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- Schema Tab -->
            <div id="schema-tab" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="glass-card p-6">
                        <h3 class="text-xl font-semibold mb-6 flex items-center">
                            <i class="fas fa-file-contract mr-3"></i>
                            JSON Schema
                        </h3>
                        
                        <div class="code-editor">
                            <div class="code-editor-header">
                                <span>Schema Definition</span>
                                <button class="copy-button" onclick="loadSchemaExample()">
                                    Load Example
                                </button>
                            </div>
                            <textarea 
                                id="jsonSchema" 
                                class="code-textarea" 
                                placeholder="Enter JSON Schema here..."
                                oninput="validateAgainstSchema()"
                            ></textarea>
                        </div>
                    </div>
                    
                    <div class="glass-card p-6">
                        <h3 class="text-xl font-semibold mb-6 flex items-center">
                            <i class="fas fa-check-circle mr-3"></i>
                            Schema Validation
                        </h3>
                        
                        <div id="schemaValidationResults">
                            <!-- Schema validation results will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="container mx-auto px-6 py-8 text-center opacity-70">
        <p>&copy; 2025 Tool Xeno. Professional JSON Formatter & Validator Tool.</p>
    </footer>
    
    <script>
        // Global variables
        let settings = {
            autoFormat: true,
            sortKeys: false,
            showErrors: true,
            lineNumbers: true
        };
        
        let currentTab = 'formatter';
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeParticles();
            initializeTabs();
            loadSample();
            updateLineNumbers('input');
            updateLineNumbers('output');
        });
        
        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
        }
        
        // Load saved theme
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
        }
        
        // Initialize floating particles
        function initializeParticles() {
            const container = document.getElementById('particles');
            const particleCount = 15;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 10 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                container.appendChild(particle);
            }
        }
        
        // Initialize tabs
        function initializeTabs() {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.dataset.tab;
                    switchTab(tabName);
                });
            });
        }
        
        // Switch tabs
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`${tabName}-tab`).classList.remove('hidden');
            
            currentTab = tabName;
            
            // Update content based on current JSON
            if (tabName === 'validator') {
                validateJSON();
            } else if (tabName === 'tree') {
                generateTreeView();
            } else if (tabName === 'schema') {
                validateAgainstSchema();
            }
        }
        
        // Handle input changes
        function handleInput() {
            const input = document.getElementById('jsonInput').value;
            updateStats(input, 'input');
            updateLineNumbers('input');
            
            if (settings.autoFormat && input.trim()) {
                debounce(formatJSON, 500)();
            }
        }
        
        // Update statistics
        function updateStats(text, type) {
            const chars = text.length;
            const lines = text.split('\n').length;
            const sizeKB = (new Blob([text]).size / 1024).toFixed(2);
            
            if (type === 'input') {
                document.getElementById('inputStats').textContent = `${chars} chars`;
            } else {
                document.getElementById('outputStats').textContent = `${chars} chars`;
                document.getElementById('charCount').textContent = chars;
                document.getElementById('lineCount').textContent = lines;
                document.getElementById('sizeKB').textContent = sizeKB;
            }
        }
        
        // Update line numbers
        function updateLineNumbers(type) {
            const textarea = document.getElementById(type === 'input' ? 'jsonInput' : 'jsonOutput');
            const lineNumbers = document.getElementById(type === 'input' ? 'inputLineNumbers' : 'outputLineNumbers');
            
            if (!settings.lineNumbers) {
                lineNumbers.style.display = 'none';
                textarea.classList.remove('code-textarea-with-numbers');
                return;
            }
            
            lineNumbers.style.display = 'block';
            textarea.classList.add('code-textarea-with-numbers');
            
            const lines = textarea.value.split('\n').length;
            const numbers = Array.from({length: lines}, (_, i) => i + 1).join('\n');
            lineNumbers.textContent = numbers;
        }
        
        // Sync line numbers with scroll
        function syncLineNumbers(type) {
            const textarea = document.getElementById(type === 'input' ? 'jsonInput' : 'jsonOutput');
            const lineNumbers = document.getElementById(type === 'input' ? 'inputLineNumbers' : 'outputLineNumbers');
            lineNumbers.scrollTop = textarea.scrollTop;
        }
        
        // Format JSON
        function formatJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            if (!input) {
                showMessage('Please enter JSON to format', 'error');
                return;
            }
            
            try {
                let parsed = JSON.parse(input);
                
                if (settings.sortKeys) {
                    parsed = sortObjectKeys(parsed);
                }
                
                const formatted = JSON.stringify(parsed, null, 2);
                document.getElementById('jsonOutput').value = formatted;
                updateStats(formatted, 'output');
                updateLineNumbers('output');
                
                const originalSize = new Blob([input]).size;
                const formattedSize = new Blob([formatted]).size;
                const compression = originalSize > 0 ? (((originalSize - formattedSize) / originalSize) * 100).toFixed(1) : 0;
                document.getElementById('compressionRatio').textContent = compression + '%';
                
                showMessage('JSON formatted successfully!', 'success');
                
            } catch (error) {
                showMessage(`Invalid JSON: ${error.message}`, 'error');
                highlightError(error.message);
            }
        }
        
        // Minify JSON
        function minifyJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            if (!input) {
                showMessage('Please enter JSON to minify', 'error');
                return;
            }
            
            try {
                const parsed = JSON.parse(input);
                const minified = JSON.stringify(parsed);
                document.getElementById('jsonOutput').value = minified;
                updateStats(minified, 'output');
                updateLineNumbers('output');
                
                const originalSize = new Blob([input]).size;
                const minifiedSize = new Blob([minified]).size;
                const compression = originalSize > 0 ? (((originalSize - minifiedSize) / originalSize) * 100).toFixed(1) : 0;
                document.getElementById('compressionRatio').textContent = compression + '%';
                
                showMessage('JSON minified successfully!', 'success');
                
            } catch (error) {
                showMessage(`Invalid JSON: ${error.message}`, 'error');
                highlightError(error.message);
            }
        }
        
        // Validate JSON
        function validateJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            const resultsContainer = document.getElementById('validationResults');
            
            if (!input) {
                resultsContainer.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        Please enter JSON to validate
                    </div>
                `;
                return;
            }
            
            try {
                const parsed = JSON.parse(input);
                const analysis = analyzeJSON(parsed);
                
                resultsContainer.innerHTML = `
                    <div class="success-message">
                        <i class="fas fa-check-circle"></i>
                        Valid JSON structure
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">${analysis.objectCount}</div>
                            <div class="text-sm opacity-70">Objects</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${analysis.arrayCount}</div>
                            <div class="text-sm opacity-70">Arrays</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${analysis.keyCount}</div>
                            <div class="text-sm opacity-70">Keys</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${analysis.maxDepth}</div>
                            <div class="text-sm opacity-70">Max Depth</div>
                        </div>
                    </div>
                    <div class="glass-card p-4 mt-4">
                        <h4 class="font-semibold mb-2">Data Types Found:</h4>
                        <div class="flex flex-wrap gap-2">
                            ${Object.entries(analysis.types).map(([type, count]) => 
                                `<span class="px-3 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full text-sm">
                                    ${type}: ${count}
                                </span>`
                            ).join('')}
                        </div>
                    </div>
                `;
                
                showMessage('JSON is valid!', 'success');
                
            } catch (error) {
                const errorDetails = parseJSONError(error.message, input);
                
                resultsContainer.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        Invalid JSON: ${error.message}
                    </div>
                    ${errorDetails.line ? `
                    <div class="glass-card p-4 mt-4">
                        <h4 class="font-semibold mb-2">Error Details:</h4>
                        <p><strong>Line:</strong> ${errorDetails.line}</p>
                        <p><strong>Column:</strong> ${errorDetails.column}</p>
                        <p><strong>Expected:</strong> ${errorDetails.expected}</p>
                    </div>
                    ` : ''}
                `;
                
                highlightError(error.message);
            }
        }
        
        // Generate tree view
        function generateTreeView() {
            const input = document.getElementById('jsonInput').value.trim();
            const treeContainer = document.getElementById('jsonTreeView');
            
            if (!input) {
                treeContainer.innerHTML = '<p class="text-center opacity-70">Enter JSON to view tree structure</p>';
                return;
            }
            
            try {
                const parsed = JSON.parse(input);
                const treeHTML = generateTreeHTML(parsed, 'root');
                treeContainer.innerHTML = treeHTML;
                
                // Add click handlers for collapsible nodes
                treeContainer.addEventListener('click', (e) => {
                    if (e.target.classList.contains('tree-toggle')) {
                        const node = e.target.nextElementSibling;
                        if (node && node.classList.contains('tree-node')) {
                            node.style.display = node.style.display === 'none' ? 'block' : 'none';
                            e.target.textContent = node.style.display === 'none' ? 'â–¶' : 'â–¼';
                        }
                    }
                });
                
            } catch (error) {
                treeContainer.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        Cannot generate tree: ${error.message}
                    </div>
                `;
            }
        }
        
        // Generate tree HTML
        function generateTreeHTML(obj, key, level = 0) {
            const indent = '  '.repeat(level);
            
            if (obj === null) {
                return `${indent}<span class="json-key">"${key}"</span>: <span class="json-null">null</span>`;
            }
            
            if (typeof obj === 'string') {
                return `${indent}<span class="json-key">"${key}"</span>: <span class="json-string">"${escapeHtml(obj)}"</span>`;
            }
            
            if (typeof obj === 'number') {
                return `${indent}<span class="json-key">"${key}"</span>: <span class="json-number">${obj}</span>`;
            }
            
            if (typeof obj === 'boolean') {
                return `${indent}<span class="json-key">"${key}"</span>: <span class="json-boolean">${obj}</span>`;
            }
            
            if (Array.isArray(obj)) {
                let html = `${indent}<span class="json-key">"${key}"</span>: <span class="json-brace">[</span>`;
                if (obj.length > 0) {
                    html += `<span class="tree-toggle">â–¼</span>\n`;
                    html += `<div class="tree-node">`;
                    obj.forEach((item, index) => {
                        html += generateTreeHTML(item, index, level + 1) + (index < obj.length - 1 ? ',\n' : '\n');
                    });
                    html += `</div>`;
                }
                html += `${indent}<span class="json-brace">]</span>`;
                return html;
            }
            
            if (typeof obj === 'object') {
                const keys = Object.keys(obj);
                let html = `${indent}<span class="json-key">"${key}"</span>: <span class="json-brace">{</span>`;
                if (keys.length > 0) {
                    html += `<span class="tree-toggle">â–¼</span>\n`;
                    html += `<div class="tree-node">`;
                    keys.forEach((k, index) => {
                        html += generateTreeHTML(obj[k], k, level + 1) + (index < keys.length - 1 ? ',\n' : '\n');
                    });
                    html += `</div>`;
                }
                html += `${indent}<span class="json-brace">}</span>`;
                return html;
            }
            
            return `${indent}<span class="json-key">"${key}"</span>: <span>${obj}</span>`;
        }
        
        // Validate against schema
        function validateAgainstSchema() {
            const input = document.getElementById('jsonInput').value.trim();
            const schema = document.getElementById('jsonSchema').value.trim();
            const resultsContainer = document.getElementById('schemaValidationResults');
            
            if (!input || !schema) {
                resultsContainer.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        Please provide both JSON data and schema
                    </div>
                `;
                return;
            }
            
            try {
                const parsedData = JSON.parse(input);
                const parsedSchema = JSON.parse(schema);
                
                const validation = validateJSONSchema(parsedData, parsedSchema);
                
                if (validation.valid) {
                    resultsContainer.innerHTML = `
                        <div class="success-message">
                            <i class="fas fa-check-circle"></i>
                            JSON matches the schema perfectly!
                        </div>
                    `;
                } else {
                    resultsContainer.innerHTML = `
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            Schema validation failed
                        </div>
                        <div class="glass-card p-4 mt-4">
                            <h4 class="font-semibold mb-2">Validation Errors:</h4>
                            <ul class="list-disc list-inside space-y-1">
                                ${validation.errors.map(error => `<li>${error}</li>`).join('')}
                            </ul>
                        </div>
                    `;
                }
                
            } catch (error) {
                resultsContainer.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        Invalid JSON or schema: ${error.message}
                    </div>
                `;
            }
        }
        
        // Simple JSON schema validation
        function validateJSONSchema(data, schema) {
            const errors = [];
            
            function validate(value, schemaObj, path = '') {
                if (schemaObj.type) {
                    const actualType = Array.isArray(value) ? 'array' : typeof value;
                    if (actualType !== schemaObj.type) {
                        errors.push(`${path}: Expected ${schemaObj.type}, got ${actualType}`);
                    }
                }
                
                if (schemaObj.required && typeof value === 'object' && value !== null) {
                    schemaObj.required.forEach(req => {
                        if (!(req in value)) {
                            errors.push(`${path}: Missing required property '${req}'`);
                        }
                    });
                }
                
                if (schemaObj.properties && typeof value === 'object' && value !== null) {
                    Object.keys(schemaObj.properties).forEach(key => {
                        if (key in value) {
                            validate(value[key], schemaObj.properties[key], `${path}.${key}`);
                        }
                    });
                }
                
                if (schemaObj.items && Array.isArray(value)) {
                    value.forEach((item, index) => {
                        validate(item, schemaObj.items, `${path}[${index}]`);
                    });
                }
            }
            
            validate(data, schema);
            return { valid: errors.length === 0, errors };
        }
        
        // Load schema example
        function loadSchemaExample() {
            const exampleSchema = {
                "type": "object",
                "properties": {
                    "name": { "type": "string" },
                    "age": { "type": "number" },
                    "email": { "type": "string" },
                    "address": {
                        "type": "object",
                        "properties": {
                            "street": { "type": "string" },
                            "city": { "type": "string" },
                            "zipcode": { "type": "string" }
                        },
                        "required": ["street", "city"]
                    }
                },
                "required": ["name", "age"]
            };
            
            document.getElementById('jsonSchema').value = JSON.stringify(exampleSchema, null, 2);
            validateAgainstSchema();
        }
        
        // Analyze JSON structure
        function analyzeJSON(obj) {
            const analysis = {
                objectCount: 0,
                arrayCount: 0,
                keyCount: 0,
                maxDepth: 0,
                types: {}
            };
            
            function analyze(value, depth = 0) {
                analysis.maxDepth = Math.max(analysis.maxDepth, depth);
                
                const type = value === null ? 'null' : Array.isArray(value) ? 'array' : typeof value;
                analysis.types[type] = (analysis.types[type] || 0) + 1;
                
                if (Array.isArray(value)) {
                    analysis.arrayCount++;
                    value.forEach(item => analyze(item, depth + 1));
                } else if (typeof value === 'object' && value !== null) {
                    analysis.objectCount++;
                    Object.keys(value).forEach(key => {
                        analysis.keyCount++;
                        analyze(value[key], depth + 1);
                    });
                }
            }
            
            analyze(obj);
            return analysis;
        }
        
        // Parse JSON error details
        function parseJSONError(message, input) {
            const match = message.match(/position (\d+)/);
            if (match) {
                const position = parseInt(match[1]);
                const lines = input.substring(0, position).split('\n');
                return {
                    line: lines.length,
                    column: lines[lines.length - 1].length + 1,
                    expected: 'Valid JSON syntax'
                };
            }
            return {};
        }
        
        // Highlight error in input
        function highlightError(message) {
            // This is a simplified error highlighting
            // In a real implementation, you'd want more sophisticated error positioning
            showMessage(`Error: ${message}`, 'error');
        }
        
        // Sort object keys recursively
        function sortObjectKeys(obj) {
            if (Array.isArray(obj)) {
                return obj.map(item => sortObjectKeys(item));
            } else if (typeof obj === 'object' && obj !== null) {
                const sorted = {};
                Object.keys(obj).sort().forEach(key => {
                    sorted[key] = sortObjectKeys(obj[key]);
                });
                return sorted;
            }
            return obj;
        }
        
        // Toggle settings
        function toggleSetting(setting) {
            settings[setting] = !settings[setting];
            const toggle = document.getElementById(setting);
            toggle.classList.toggle('active', settings[setting]);
            
            if (setting === 'lineNumbers') {
                updateLineNumbers('input');
                updateLineNumbers('output');
            }
        }
        
        // Show status message
        function showMessage(message, type = 'success') {
            const container = document.getElementById('statusMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                ${message}
            `;
            
            container.innerHTML = '';
            container.appendChild(messageDiv);
            
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.remove();
                }
            }, 5000);
        }
        
        // Copy functions
        function copyOutput() {
            const output = document.getElementById('jsonOutput').value;
            if (!output) {
                showMessage('No output to copy', 'error');
                return;
            }
            
            navigator.clipboard.writeText(output).then(() => {
                showMessage('Output copied to clipboard!', 'success');
            });
        }
        
        function pasteFromClipboard() {
            navigator.clipboard.readText().then(text => {
                document.getElementById('jsonInput').value = text;
                handleInput();
                showMessage('Text pasted from clipboard!', 'success');
            }).catch(() => {
                showMessage('Failed to paste from clipboard', 'error');
            });
        }
        
        function clearInput() {
            document.getElementById('jsonInput').value = '';
            document.getElementById('jsonOutput').value = '';
            handleInput();
            updateStats('', 'output');
            updateLineNumbers('output');
            showMessage('Input cleared!', 'success');
        }
        
        function downloadJSON() {
            const output = document.getElementById('jsonOutput').value;
            if (!output) {
                showMessage('No output to download', 'error');
                return;
            }
            
            const blob = new Blob([output], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'formatted.json';
            link.click();
            URL.revokeObjectURL(url);
            showMessage('JSON file downloaded!', 'success');
        }
        
        // Load sample JSON
        function loadSample() {
            const sample = {
                "users": [
                    {
                        "id": 1,
                        "name": "John Doe",
                        "email": "john@example.com",
                        "age": 30,
                        "address": {
                            "street": "123 Main St",
                            "city": "New York",
                            "zipcode": "10001",
                            "coordinates": {
                                "lat": 40.7128,
                                "lng": -74.0060
                            }
                        },
                        "hobbies": ["reading", "swimming", "coding"],
                        "active": true,
                        "profile": null
                    },
                    {
                        "id": 2,
                        "name": "Jane Smith",
                        "email": "jane@example.com",
                        "age": 25,
                        "address": {
                            "street": "456 Oak Ave",
                            "city": "San Francisco",
                            "zipcode": "94102",
                            "coordinates": {
                                "lat": 37.7749,
                                "lng": -122.4194
                            }
                        },
                        "hobbies": ["photography", "travel"],
                        "active": false,
                        "profile": {
                            "bio": "Software engineer and photographer",
                            "website": "https://janesmith.dev"
                        }
                    }
                ],
                "metadata": {
                    "total": 2,
                    "generated": "2025-01-23T12:00:00Z",
                    "version": "1.0"
                }
            };
            
            document.getElementById('jsonInput').value = JSON.stringify(sample, null, 2);
            handleInput();
            
            if (settings.autoFormat) {
                formatJSON();
            }
        }
        
        // Utility functions
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
    </script>
</body>
</html>
