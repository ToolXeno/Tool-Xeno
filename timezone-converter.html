<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Time Zone Converter - Tool Xeno</title>
    <meta name="description" content="Advanced timezone converter with world clock display, meeting time optimization, daylight saving time handling, and professional collaboration features">

    <!-- ✅ Tool Xeno Favicons -->
<link rel="icon" type="image/svg+xml" href="toolxeno-logo.svg">
<link rel="alternate icon" type="image/png" href="toolxeno-logo.png">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="toolxeno-logo.png">
<meta name="theme-color" content="#667eea">

    <!-- External Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            
            --dark-bg: #0a0a0a;
            --dark-surface: #1a1a1a;
            --dark-surface-elevated: #252525;
            --dark-text: #ffffff;
            --dark-text-secondary: #a0a0a0;
            --dark-border: #333333;
            
            --light-bg: #f8fafc;
            --light-surface: #ffffff;
            --light-surface-elevated: #f1f5f9;
            --light-text: #1e293b;
            --light-text-secondary: #64748b;
            --light-border: #e2e8f0;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            transition: background-color 0.35s cubic-bezier(0.4, 0, 0.2, 1), color 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.6;
            background-color: var(--dark-bg);
            color: var(--dark-text);
            min-height: 100vh;
        }
        
        body.light-theme { 
            background-color: var(--light-bg); 
            color: var(--light-text); 
        }

        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float 20s infinite linear;
            opacity: 0.05;
            background: radial-gradient(circle, #667eea 0%, transparent 70%);
        }
        
        body.light-theme .particle { 
            background: radial-gradient(circle, #4facfe 0%, transparent 70%); 
        }
        
        @keyframes float { 
            0% { transform: translateY(100vh) rotate(0deg); } 
            100% { transform: translateY(-100px) rotate(360deg); } 
        }
        
        .header-glass {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: background-color 0.35s ease, border-color 0.35s ease;
        }
        
        body.light-theme .header-glass { 
            background: rgba(255, 255, 255, 0.9); 
            border-bottom-color: rgba(0, 0, 0, 0.1); 
        }
        
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--dark-surface);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .theme-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 22px;
            height: 22px;
            background: var(--primary-gradient);
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        body.light-theme .theme-toggle { 
            background: var(--light-surface-elevated); 
            border-color: var(--light-border); 
        }
        
        body.light-theme .theme-toggle::after { 
            transform: translateX(28px); 
            background: var(--secondary-gradient); 
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.35s ease, border-color 0.35s ease;
            position: relative;
            overflow: hidden;
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }
        
        body.light-theme .glass-card { 
            background-color: rgba(255, 255, 255, 0.9); 
            border-color: rgba(0, 0, 0, 0.1); 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); 
        }
        
        .btn-gradient {
            background: var(--primary-gradient);
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-gradient:hover::before { left: 100%; }
        .btn-gradient:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); 
        }
        .btn-gradient:active { transform: translateY(0); }
        
        .btn-secondary {
            background: var(--accent-gradient);
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
        }
        
        .btn-success {
            background: var(--success-gradient);
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
        }
        
        .btn-success:hover {
            box-shadow: 0 8px 25px rgba(17, 153, 142, 0.4);
        }
        
        .nav-link {
            padding: 8px 16px;
            border-radius: 8px;
            transition: background-color 0.3s ease, color 0.3s ease;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
        }
        
        .nav-link:hover { 
            background: rgba(255, 255, 255, 0.1); 
            color: white; 
        }
        
        body.light-theme .nav-link { 
            color: rgba(0, 0, 0, 0.7); 
        }
        
        body.light-theme .nav-link:hover { 
            background: rgba(0, 0, 0, 0.1); 
            color: black; 
        }

        .timezone-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 10px 0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .timezone-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        body.light-theme .timezone-card {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .digital-clock {
            font-size: 3rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 20px 0;
        }

        .world-clock-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .timezone-search {
            position: relative;
            width: 100%;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        body.light-theme .search-input {
            background: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            margin-top: 5px;
        }

        body.light-theme .search-suggestions {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .suggestion-item {
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .suggestion-item:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .meeting-scheduler {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        body.light-theme .meeting-scheduler {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .time-slot {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .time-slot:hover, .time-slot.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .time-slot.business-hours {
            border-color: #38ef7d;
            background: rgba(56, 239, 125, 0.1);
        }

        .time-slot.unavailable {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: #f5576c;
            background: rgba(245, 87, 108, 0.1);
        }

        .business-hours-bar {
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(245, 87, 108, 0.3) 0%, 
                rgba(245, 87, 108, 0.3) 33.33%, 
                rgba(56, 239, 125, 0.5) 33.33%, 
                rgba(56, 239, 125, 0.5) 75%, 
                rgba(245, 87, 108, 0.3) 75%, 
                rgba(245, 87, 108, 0.3) 100%);
            border-radius: 4px;
            margin: 10px 0;
            position: relative;
        }

        .timezone-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .comparison-time {
            text-align: center;
            padding: 15px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.light-theme .comparison-time {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }

        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .favorite-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .favorite-btn.favorited {
            color: #f5576c;
        }

        .favorite-btn:hover {
            color: #f5576c;
            transform: scale(1.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        body.light-theme .stat-card {
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .digital-clock {
                font-size: 2rem;
            }
            
            .world-clock-grid {
                grid-template-columns: 1fr;
            }

            .timezone-comparison {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>

<body>
    <!-- Floating Particles -->
    <div class="particles-container" id="particles"></div>
    
    <!-- Header -->
    <header class="header-glass fixed w-full top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                         Tool Xeno
                    </div>
                    <div class="hidden md:block text-sm opacity-70">
                        Professional Time Zone Converter
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <nav class="hidden md:flex space-x-2">
                        <a href="#converter" class="nav-link">Convert</a>
                        <a href="#world-clock" class="nav-link">World Clock</a>
                        <a href="#meeting" class="nav-link">Meeting</a>
                    </nav>
                    <div class="theme-toggle" id="themeToggle" onclick="toggleTheme()"></div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="pt-20 pb-10">
        <!-- Hero Section -->
        <section class="container mx-auto px-6 py-16 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent">
                Professional Time Zone Converter
            </h1>
            <p class="text-lg md:text-xl mb-8 opacity-80 max-w-3xl mx-auto">
                Advanced timezone management with world clock display, intelligent meeting scheduling, 
                DST handling, and professional collaboration features for global teams.
            </p>
            <div class="digital-clock" id="currentTime">
                00:00:00
            </div>
            <div class="text-center opacity-70" id="currentDate">
                Loading...
            </div>
        </section>
        
        <!-- Time Zone Search -->
        <section class="container mx-auto px-6 mb-8">
            <div class="glass-card p-6">
                <h3 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-search mr-3"></i>
                    Add Time Zone
                </h3>
                <div class="timezone-search">
                    <input type="text" id="timezoneSearch" class="search-input" 
                           placeholder="Search cities, countries, or time zones...">
                    <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 opacity-50"></i>
                    <div id="searchSuggestions" class="search-suggestions hidden"></div>
                </div>
            </div>
        </section>

        <!-- World Clock -->
        <section id="world-clock" class="container mx-auto px-6 mb-8">
            <div class="glass-card p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-semibold flex items-center">
                        <i class="fas fa-globe mr-3"></i>
                        World Clock
                    </h3>
                    <div class="flex gap-3">
                        <button id="addFavoriteBtn" class="btn-gradient">
                            <i class="fas fa-plus mr-2"></i>
                            Add Favorite
                        </button>
                        <button id="clearAllBtn" class="btn-secondary">
                            <i class="fas fa-trash mr-2"></i>
                            Clear All
                        </button>
                    </div>
                </div>
                <div class="world-clock-grid" id="worldClockGrid">
                    <!-- Timezone cards will be inserted here -->
                </div>
            </div>
        </section>

        <!-- Time Converter -->
        <section id="converter" class="container mx-auto px-6 mb-8">
            <div class="glass-card p-6">
                <h3 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-exchange-alt mr-3"></i>
                    Time Converter
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">From Time Zone</label>
                        <select id="fromTimezone" class="search-input">
                            <option value="America/New_York">New York (EST)</option>
                            <option value="Europe/London">London (GMT)</option>
                            <option value="Asia/Tokyo">Tokyo (JST)</option>
                            <option value="America/Los_Angeles">Los Angeles (PST)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">To Time Zone</label>
                        <select id="toTimezone" class="search-input">
                            <option value="Europe/London">London (GMT)</option>
                            <option value="America/New_York">New York (EST)</option>
                            <option value="Asia/Tokyo">Tokyo (JST)</option>
                            <option value="America/Los_Angeles">Los Angeles (PST)</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Date & Time</label>
                        <input type="datetime-local" id="convertDateTime" class="search-input">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Converted Time</label>
                        <div id="convertedResult" class="search-input bg-opacity-50 cursor-not-allowed">
                            Select date and time to convert
                        </div>
                    </div>
                </div>
                <div class="timezone-comparison" id="timezoneComparison">
                    <!-- Comparison times will be shown here -->
                </div>
            </div>
        </section>

        <!-- Meeting Scheduler -->
        <section id="meeting" class="container mx-auto px-6 mb-8">
            <div class="glass-card p-6">
                <h3 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-calendar-alt mr-3"></i>
                    Meeting Time Optimizer
                </h3>
                <div class="meeting-scheduler">
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Meeting Duration</label>
                        <select id="meetingDuration" class="search-input">
                            <option value="30">30 minutes</option>
                            <option value="60">1 hour</option>
                            <option value="90">1.5 hours</option>
                            <option value="120">2 hours</option>
                        </select>
                    </div>
                    <div class="mb-6">
                        <h4 class="font-semibold mb-3">Participants' Time Zones</h4>
                        <div id="participantTimezones" class="space-y-2">
                            <!-- Participant timezones will be added here -->
                        </div>
                        <button id="addParticipantBtn" class="btn-gradient mt-3">
                            <i class="fas fa-user-plus mr-2"></i>
                            Add Participant
                        </button>
                    </div>
                    <div class="mb-6">
                        <h4 class="font-semibold mb-3">Suggested Meeting Times</h4>
                        <div id="suggestedTimes" class="flex flex-wrap gap-2">
                            <!-- Suggested times will be generated here -->
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <button id="findOptimalBtn" class="btn-gradient">
                            <i class="fas fa-search mr-2"></i>
                            Find Optimal Times
                        </button>
                        <button id="shareScheduleBtn" class="btn-success">
                            <i class="fas fa-share mr-2"></i>
                            Share Schedule
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Statistics -->
        <section class="container mx-auto px-6 mb-8">
            <div class="glass-card p-6">
                <h3 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-chart-line mr-3"></i>
                    Time Zone Statistics
                </h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalZones">0</div>
                        <div class="text-sm opacity-70">Active Time Zones</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="timeDifference">0h</div>
                        <div class="text-sm opacity-70">Max Time Difference</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="businessHoursOverlap">0%</div>
                        <div class="text-sm opacity-70">Business Hours Overlap</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="dstActive">0</div>
                        <div class="text-sm opacity-70">DST Active Zones</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="container mx-auto px-6 py-8 text-center opacity-70">
        <p>&copy; 2025 Tool Xeno. All rights reserved. Professional Time Zone Management Tools.</p>
    </footer>
    
    <script>
        // Global variables
        let selectedTimezones = [];
        let participants = [];
        let currentConversion = null;
        let updateInterval = null;
        
        // Time zone data
        const timezones = [
            { id: 'America/New_York', name: 'New York', country: 'United States', offset: -5 },
            { id: 'America/Los_Angeles', name: 'Los Angeles', country: 'United States', offset: -8 },
            { id: 'America/Chicago', name: 'Chicago', country: 'United States', offset: -6 },
            { id: 'America/Denver', name: 'Denver', country: 'United States', offset: -7 },
            { id: 'Europe/London', name: 'London', country: 'United Kingdom', offset: 0 },
            { id: 'Europe/Paris', name: 'Paris', country: 'France', offset: 1 },
            { id: 'Europe/Berlin', name: 'Berlin', country: 'Germany', offset: 1 },
            { id: 'Europe/Rome', name: 'Rome', country: 'Italy', offset: 1 },
            { id: 'Asia/Tokyo', name: 'Tokyo', country: 'Japan', offset: 9 },
            { id: 'Asia/Shanghai', name: 'Shanghai', country: 'China', offset: 8 },
            { id: 'Asia/Mumbai', name: 'Mumbai', country: 'India', offset: 5.5 },
            { id: 'Asia/Dubai', name: 'Dubai', country: 'UAE', offset: 4 },
            { id: 'Australia/Sydney', name: 'Sydney', country: 'Australia', offset: 11 },
            { id: 'Pacific/Auckland', name: 'Auckland', country: 'New Zealand', offset: 13 },
            { id: 'America/Sao_Paulo', name: 'São Paulo', country: 'Brazil', offset: -3 },
            { id: 'America/Mexico_City', name: 'Mexico City', country: 'Mexico', offset: -6 },
            { id: 'Europe/Moscow', name: 'Moscow', country: 'Russia', offset: 3 },
            { id: 'Africa/Cairo', name: 'Cairo', country: 'Egypt', offset: 2 },
            { id: 'Asia/Singapore', name: 'Singapore', country: 'Singapore', offset: 8 },
            { id: 'Asia/Seoul', name: 'Seoul', country: 'South Korea', offset: 9 }
        ];
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeParticles();
            initializeTimezoneSearch();
            initializeConverter();
            initializeMeetingScheduler();
            loadDefaultTimezones();
            startClock();
            updateStatistics();
        });
        
        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
        }
        
        // Load saved theme
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
        }
        
        // Initialize floating particles
        function initializeParticles() {
            const container = document.getElementById('particles');
            const particleCount = 15;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 10 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                container.appendChild(particle);
            }
        }
        
        // Start digital clock
        function startClock() {
            function updateClock() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', {
                    hour12: false,
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                const dateString = now.toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                document.getElementById('currentTime').textContent = timeString;
                document.getElementById('currentDate').textContent = dateString;
                
                updateWorldClock();
            }
            
            updateClock();
            updateInterval = setInterval(updateClock, 1000);
        }
        
        // Initialize timezone search
        function initializeTimezoneSearch() {
            const searchInput = document.getElementById('timezoneSearch');
            const suggestions = document.getElementById('searchSuggestions');
            
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                if (query.length < 2) {
                    suggestions.classList.add('hidden');
                    return;
                }
                
                const matches = timezones.filter(tz => 
                    tz.name.toLowerCase().includes(query) ||
                    tz.country.toLowerCase().includes(query) ||
                    tz.id.toLowerCase().includes(query)
                );
                
                if (matches.length > 0) {
                    suggestions.innerHTML = matches.map(tz => 
                        `<div class="suggestion-item" onclick="addTimezone('${tz.id}')">
                            <div class="font-medium">${tz.name}</div>
                            <div class="text-sm opacity-70">${tz.country} (${tz.id})</div>
                        </div>`
                    ).join('');
                    suggestions.classList.remove('hidden');
                } else {
                    suggestions.classList.add('hidden');
                }
            });
            
            // Hide suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !suggestions.contains(e.target)) {
                    suggestions.classList.add('hidden');
                }
            });
        }
        
        // Add timezone to world clock
        function addTimezone(timezoneId) {
            const timezone = timezones.find(tz => tz.id === timezoneId);
            if (!timezone || selectedTimezones.find(tz => tz.id === timezoneId)) {
                return;
            }
            
            selectedTimezones.push(timezone);
            document.getElementById('timezoneSearch').value = '';
            document.getElementById('searchSuggestions').classList.add('hidden');
            renderWorldClock();
            updateStatistics();
        }
        
        // Remove timezone from world clock
        function removeTimezone(timezoneId) {
            selectedTimezones = selectedTimezones.filter(tz => tz.id !== timezoneId);
            renderWorldClock();
            updateStatistics();
        }
        
        // Load default timezones
        function loadDefaultTimezones() {
            const defaults = ['America/New_York', 'Europe/London', 'Asia/Tokyo'];
            defaults.forEach(id => addTimezone(id));
        }
        
        // Render world clock
        function renderWorldClock() {
            const grid = document.getElementById('worldClockGrid');
            
            if (selectedTimezones.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-8 opacity-50">No time zones added. Use the search above to add time zones.</div>';
                return;
            }
            
            grid.innerHTML = selectedTimezones.map(tz => {
                const time = getTimeInTimezone(tz.id);
                const isDST = isDaylightSavingTime(tz.id);
                
                return `
                    <div class="timezone-card fade-in">
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center">
                                <h4 class="text-lg font-semibold">${tz.name}</h4>
                                ${isDST ? '<span class="ml-2 text-xs bg-yellow-500 text-black px-2 py-1 rounded">DST</span>' : ''}
                            </div>
                            <div class="flex items-center space-x-2">
                                <button class="favorite-btn" onclick="toggleFavorite('${tz.id}')">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="favorite-btn" onclick="removeTimezone('${tz.id}')">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <div class="text-3xl font-bold mb-2" style="font-family: 'Courier New', monospace;">
                            ${time.time}
                        </div>
                        <div class="text-sm opacity-70 mb-3">
                            ${time.date} • ${tz.country}
                        </div>
                        <div class="business-hours-bar" title="Business Hours (9 AM - 6 PM)"></div>
                        <div class="text-xs opacity-50 text-center">
                            UTC${tz.offset >= 0 ? '+' : ''}${tz.offset}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Update world clock
        function updateWorldClock() {
            const cards = document.querySelectorAll('.timezone-card');
            cards.forEach((card, index) => {
                if (selectedTimezones[index]) {
                    const time = getTimeInTimezone(selectedTimezones[index].id);
                    const timeElement = card.querySelector('.text-3xl');
                    const dateElement = card.querySelector('.text-sm');
                    
                    if (timeElement) timeElement.textContent = time.time;
                    if (dateElement) {
                        const parts = dateElement.textContent.split(' • ');
                        dateElement.textContent = time.date + ' • ' + (parts[1] || selectedTimezones[index].country);
                    }
                }
            });
        }
        
        // Get time in specific timezone
        function getTimeInTimezone(timezoneId) {
            const now = new Date();
            const options = {
                timeZone: timezoneId,
                hour12: false,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            const dateOptions = {
                timeZone: timezoneId,
                weekday: 'short',
                month: 'short',
                day: 'numeric'
            };
            
            return {
                time: now.toLocaleTimeString('en-US', options),
                date: now.toLocaleDateString('en-US', dateOptions)
            };
        }
        
        // Check if timezone is in daylight saving time
        function isDaylightSavingTime(timezoneId) {
            const now = new Date();
            const january = new Date(now.getFullYear(), 0, 1);
            const july = new Date(now.getFullYear(), 6, 1);
            
            const janOffset = getTimezoneOffset(january, timezoneId);
            const julOffset = getTimezoneOffset(july, timezoneId);
            const nowOffset = getTimezoneOffset(now, timezoneId);
            
            return Math.min(janOffset, julOffset) === nowOffset;
        }
        
        // Get timezone offset for specific date
        function getTimezoneOffset(date, timezoneId) {
            const utcDate = new Date(date.toLocaleString('en-US', { timeZone: 'UTC' }));
            const tzDate = new Date(date.toLocaleString('en-US', { timeZone: timezoneId }));
            return (utcDate.getTime() - tzDate.getTime()) / (1000 * 60);
        }
        
        // Initialize converter
        function initializeConverter() {
            const fromSelect = document.getElementById('fromTimezone');
            const toSelect = document.getElementById('toTimezone');
            const dateTimeInput = document.getElementById('convertDateTime');
            
            // Populate timezone selects
            const options = timezones.map(tz => 
                `<option value="${tz.id}">${tz.name} (${tz.country})</option>`
            ).join('');
            
            fromSelect.innerHTML = options;
            toSelect.innerHTML = options;
            
            // Set default date/time to now
            const now = new Date();
            dateTimeInput.value = now.toISOString().slice(0, 16);
            
            // Event listeners
            [fromSelect, toSelect, dateTimeInput].forEach(element => {
                element.addEventListener('change', performConversion);
            });
            
            // Initial conversion
            performConversion();
        }
        
        // Perform time conversion
        function performConversion() {
            const fromTz = document.getElementById('fromTimezone').value;
            const toTz = document.getElementById('toTimezone').value;
            const dateTimeStr = document.getElementById('convertDateTime').value;
            
            if (!dateTimeStr) return;
            
            try {
                const inputDate = new Date(dateTimeStr);
                const result = convertTimezone(inputDate, fromTz, toTz);
                
                document.getElementById('convertedResult').textContent = 
                    result.toLocaleString('en-US', {
                        timeZone: toTz,
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false
                    });
                
                updateTimezoneComparison();
            } catch (error) {
                document.getElementById('convertedResult').textContent = 'Invalid date/time';
            }
        }
        
        // Convert between timezones
        function convertTimezone(date, fromTz, toTz) {
            // Create a date in the source timezone
            const sourceTime = new Date(date.toLocaleString('en-US', { timeZone: fromTz }));
            const utcTime = new Date(date.getTime() + (date.getTimezoneOffset() * 60000));
            const targetTime = new Date(utcTime.toLocaleString('en-US', { timeZone: toTz }));
            
            return new Date(date.getTime() + (targetTime.getTime() - sourceTime.getTime()));
        }
        
        // Update timezone comparison
        function updateTimezoneComparison() {
            const comparison = document.getElementById('timezoneComparison');
            const dateTimeStr = document.getElementById('convertDateTime').value;
            
            if (!dateTimeStr || selectedTimezones.length === 0) {
                comparison.innerHTML = '';
                return;
            }
            
            const inputDate = new Date(dateTimeStr);
            
            comparison.innerHTML = selectedTimezones.map(tz => {
                const convertedTime = convertTimezone(inputDate, 'UTC', tz.id);
                const timeStr = convertedTime.toLocaleString('en-US', {
                    timeZone: tz.id,
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: true
                });
                
                return `
                    <div class="comparison-time">
                        <div class="font-semibold">${tz.name}</div>
                        <div class="text-lg">${timeStr}</div>
                    </div>
                `;
            }).join('');
        }
        
        // Initialize meeting scheduler
        function initializeMeetingScheduler() {
            document.getElementById('addParticipantBtn').addEventListener('click', addParticipant);
            document.getElementById('findOptimalBtn').addEventListener('click', findOptimalMeetingTimes);
            document.getElementById('shareScheduleBtn').addEventListener('click', shareSchedule);
            
            // Add default participants
            addParticipant('New York', 'America/New_York');
            addParticipant('London', 'Europe/London');
        }
        
        // Add participant to meeting
        function addParticipant(name = null, timezone = null) {
            const participantName = name || prompt('Enter participant name:');
            const participantTz = timezone || prompt('Enter timezone (e.g., America/New_York):');
            
            if (!participantName || !participantTz) return;
            
            const participant = {
                id: Date.now(),
                name: participantName,
                timezone: participantTz
            };
            
            participants.push(participant);
            renderParticipants();
        }
        
        // Remove participant
        function removeParticipant(id) {
            participants = participants.filter(p => p.id !== id);
            renderParticipants();
        }
        
        // Render participants
        function renderParticipants() {
            const container = document.getElementById('participantTimezones');
            
            container.innerHTML = participants.map(p => `
                <div class="flex items-center justify-between p-3 bg-opacity-50 bg-white rounded-lg">
                    <div>
                        <span class="font-medium">${p.name}</span>
                        <span class="text-sm opacity-70 ml-2">(${p.timezone})</span>
                    </div>
                    <button class="favorite-btn" onclick="removeParticipant(${p.id})">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');
        }
        
        // Find optimal meeting times
        function findOptimalMeetingTimes() {
            if (participants.length < 2) {
                alert('Add at least 2 participants to find optimal meeting times.');
                return;
            }
            
            const duration = parseInt(document.getElementById('meetingDuration').value);
            const suggestedTimes = [];
            
            // Generate time slots for the next 7 days
            for (let day = 0; day < 7; day++) {
                for (let hour = 8; hour < 20; hour++) {
                    const meetingTime = new Date();
                    meetingTime.setDate(meetingTime.getDate() + day);
                    meetingTime.setHours(hour, 0, 0, 0);
                    
                    const participantTimes = participants.map(p => {
                        const localTime = convertTimezone(meetingTime, 'UTC', p.timezone);
                        return {
                            participant: p,
                            localTime: localTime,
                            hour: localTime.getHours(),
                            isBusinessHours: localTime.getHours() >= 9 && localTime.getHours() <= 17
                        };
                    });
                    
                    const businessHoursCount = participantTimes.filter(pt => pt.isBusinessHours).length;
                    const score = businessHoursCount / participants.length;
                    
                    if (score > 0.5) { // At least 50% in business hours
                        suggestedTimes.push({
                            time: meetingTime,
                            score: score,
                            participantTimes: participantTimes
                        });
                    }
                }
            }
            
            // Sort by score and take top 10
            suggestedTimes.sort((a, b) => b.score - a.score);
            renderSuggestedTimes(suggestedTimes.slice(0, 10));
        }
        
        // Render suggested meeting times
        function renderSuggestedTimes(times) {
            const container = document.getElementById('suggestedTimes');
            
            if (times.length === 0) {
                container.innerHTML = '<div class="text-center py-4 opacity-50">No optimal times found. Try adjusting participant timezones.</div>';
                return;
            }
            
            container.innerHTML = times.map((timeSlot, index) => {
                const timeStr = timeSlot.time.toLocaleDateString('en-US', {
                    weekday: 'short',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const scoreClass = timeSlot.score >= 0.8 ? 'business-hours' : 'selected';
                
                return `
                    <div class="time-slot ${scoreClass}" onclick="selectMeetingTime(${index})">
                        <div class="font-medium">${timeStr}</div>
                        <div class="text-xs opacity-70">${Math.round(timeSlot.score * 100)}% optimal</div>
                    </div>
                `;
            }).join('');
        }
        
        // Select meeting time
        function selectMeetingTime(index) {
            document.querySelectorAll('.time-slot').forEach((slot, i) => {
                slot.classList.toggle('selected', i === index);
            });
        }
        
        // Share schedule
        function shareSchedule() {
            const selectedSlot = document.querySelector('.time-slot.selected');
            if (!selectedSlot) {
                alert('Please select a meeting time first.');
                return;
            }
            
            const shareText = `Meeting Schedule:\n${selectedSlot.textContent}\n\nParticipants:\n${participants.map(p => `${p.name} (${p.timezone})`).join('\n')}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Meeting Schedule',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('Meeting schedule copied to clipboard!');
                });
            }
        }
        
        // Update statistics
        function updateStatistics() {
            document.getElementById('totalZones').textContent = selectedTimezones.length;
            
            if (selectedTimezones.length > 1) {
                const offsets = selectedTimezones.map(tz => tz.offset);
                const maxDiff = Math.max(...offsets) - Math.min(...offsets);
                document.getElementById('timeDifference').textContent = maxDiff + 'h';
                
                // Calculate business hours overlap (simplified)
                const overlapPercentage = Math.max(0, 100 - (maxDiff * 5));
                document.getElementById('businessHoursOverlap').textContent = Math.round(overlapPercentage) + '%';
            } else {
                document.getElementById('timeDifference').textContent = '0h';
                document.getElementById('businessHoursOverlap').textContent = '100%';
            }
            
            // Count DST active zones
            const dstCount = selectedTimezones.filter(tz => isDaylightSavingTime(tz.id)).length;
            document.getElementById('dstActive').textContent = dstCount;
        }
        
        // Toggle favorite (placeholder)
        function toggleFavorite(timezoneId) {
            // This would typically save to localStorage or backend
            const button = event.target;
            button.classList.toggle('favorited');
        }
        
        // Clear all timezones
        document.getElementById('clearAllBtn').addEventListener('click', function() {
            if (confirm('Are you sure you want to clear all time zones?')) {
                selectedTimezones = [];
                renderWorldClock();
                updateStatistics();
            }
        });
        
        // Add favorite timezone
        document.getElementById('addFavoriteBtn').addEventListener('click', function() {
            const timezone = prompt('Enter timezone ID (e.g., Europe/Paris):');
            if (timezone && timezones.find(tz => tz.id === timezone)) {
                addTimezone(timezone);
            } else if (timezone) {
                alert('Invalid timezone ID. Please use a valid timezone identifier.');
            }
        });
    </script>
<script src="/homebutton.js"></script>
</body>

</html>
